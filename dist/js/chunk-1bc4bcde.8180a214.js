(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc4bcde"],{"20f68":function(t,e,a){},"2fa4":function(t,e,a){"use strict";a("20f68");var s=a("80d2");e["a"]=Object(s["i"])("spacer","div","v-spacer")},"3da7":function(t,e,a){"use strict";a("a25d")},"6ca2":function(t,e){t.exports="data:image/png;base64,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"},"7bac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wallet"},[s("div",{staticClass:"assets"},[s("div",{staticClass:"asset"},[t._m(0),s("div",{staticClass:"asset-balance"},[t._v(" "+t._s(t.convertToEther(t.BNB))+" ")])]),s("div",{staticClass:"asset"},[t._m(1),s("div",{staticClass:"asset-balance"},[t._v(" "+t._s(t.convertToEther(t.BUSD))+" ")])]),s("div",{staticClass:"asset"},[t._m(2),s("div",{staticClass:"asset-balance"},[t._v(" "+t._s(0)+" ")])]),t._m(3)]),s("div",{staticClass:"actions"},[s("div",{staticClass:"actions-tabs"},[s("div",{staticClass:"tab",class:0==t.actionType?"selected":"",on:{click:function(e){return t.tabChange(0)}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.user.recharge"))+" ")]),s("div",{staticClass:"tab",class:1==t.actionType?"selected":"",on:{click:function(e){return t.tabChange(1)}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.user.withdraw"))+" ")])]),s("div",{staticClass:"actions-asset"},[s("v-spacer"),s("asset-action",{key:t.actionType+0,attrs:{actionType:t.actionType,tokenType:0,walletCTR:t.walletCTR,tokenCTR:t.goldCTR,allowance:t.GTAllowance,gameBalance:t.gameGT,chainBalance:t.GT,currentAccount:t.currentAccount,web3:t.web3,tokenAddr:t.goldAddr,walletAddr:t.walletAddr},on:{updateCallback:t.updateBalance,approveCallback:t.approveSuccess}}),s("v-spacer"),s("asset-action",{key:""+t.actionType+1,attrs:{actionType:t.actionType,tokenType:1,walletCTR:t.walletCTR,tokenCTR:t.myTokenCTR,allowance:t.MTAllowance,gameBalance:t.gameMT,chainBalance:t.MT,currentAccount:t.currentAccount,web3:t.web3,tokenAddr:t.mtAddr,walletAddr:t.walletAddr},on:{updateCallback:t.updateBalance,approveCallback:t.approveSuccess}}),s("v-spacer")],1)]),s("div",{staticClass:"mobile"},[s("div",{staticClass:"assets-ingame"},[s("div",{staticClass:"asset-ingame"},[s("div",{staticClass:"asset-ingame-name"},[s("img",{attrs:{src:a("ea76"),alt:""}}),s("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.user.iceInGame"))+" ")])]),s("div",{staticClass:"asset-ingame-balance"},[t._v("0")])]),s("div",{staticClass:"asset-ingame"},[s("div",{staticClass:"asset-ingame-name"},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.user.hptInGame")))])]),s("div",{staticClass:"asset-ingame-balance"},[t._v("0")])])]),s("div",{staticClass:"tabs"},[s("div",{staticClass:"tab",class:0==t.dialog.tokenType?"selected":"",on:{click:function(e){return t.changeTokenType(0)}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.common.ice"))+" ")]),s("div",{staticClass:"tab",class:1==t.dialog.tokenType?"selected":"",on:{click:function(e){return t.changeTokenType(1)}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.common.hpt"))+" ")])]),s("div",{staticClass:"mobile-actions"},[s("div",{staticClass:"mobile-action-icon"},[0==t.dialog.tokenType?s("img",{attrs:{src:a("ea76"),alt:""}}):t._e(),1==t.dialog.tokenType?s("img",{attrs:{src:a("6ca2"),alt:""}}):t._e()]),s("div",{staticClass:"mobile-action-title"},[t._v(" "+t._s(0==t.dialog.tokenType?t.$vuetify.lang.t("$vuetify.user.iceInGame"):t.$vuetify.lang.t("$vuetify.user.hptInGame"))+" ")]),s("div",{staticClass:"mobile-action-btns"},[s("p-button",{attrs:{type:"small",text:t.$vuetify.lang.t("$vuetify.user.recharge")},on:{confirm:function(e){return t.openMobileModal(0)}}}),s("p-button",{attrs:{type:"small",text:t.$vuetify.lang.t("$vuetify.user.withdraw")},on:{confirm:function(e){return t.openMobileModal(1)}}})],1)]),s("v-dialog",{staticClass:"action-dialog",attrs:{width:"343"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("asset-action",{key:""+t.dialog.actionType+t.dialog.tokenType,attrs:{actionType:t.dialog.actionType,tokenType:t.dialog.tokenType,walletCTR:t.walletCTR,tokenCTR:t.dialog.tokenCTR,allowance:t.dialog.allowance,gameBalance:t.dialog.gameBalance,chainBalance:t.dialog.chainBalance,currentAccount:t.currentAccount,web3:t.web3,tokenAddr:t.dialog.tokenAddr,walletAddr:t.walletAddr},on:{updateCallback:t.updateBalance,approveCallback:t.approveSuccess}}),s("div",{staticClass:"action-dialog-close",on:{click:t.closeDialog}})],1)],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-title"},[s("span",{staticClass:"asset-icon"},[s("img",{attrs:{src:a("9281"),alt:""}})]),s("span",{staticClass:"asset-name"},[t._v(" BNB ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-title"},[s("span",{staticClass:"asset-icon"},[s("img",{attrs:{src:a("af50"),alt:""}})]),s("span",{staticClass:"asset-name"},[t._v(" BUSD ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-title"},[s("span",{staticClass:"asset-icon"},[s("img",{attrs:{src:a("ea76"),alt:""}})]),s("span",{staticClass:"asset-name"},[t._v(" ICE ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset"},[s("div",{staticClass:"asset-title"},[s("span",{staticClass:"asset-icon"},[s("img",{attrs:{src:a("6ca2"),alt:""}})]),s("span",{staticClass:"asset-name"},[t._v(" HPT ")])]),s("div",{staticClass:"asset-balance"},[t._v("0")])])}],i=a("1da1"),c=a("5530"),o=(a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("96cf"),a("2f62")),l=a("c24f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-action"},[s("div",{staticClass:"asset-ingame",class:0==t.tokenType?"right":""},[t._v(" "+t._s((0==t.tokenType?t.$vuetify.lang.t("$vuetify.user.iceInGame"):t.$vuetify.lang.t("$vuetify.user.hptInGame"))+":0")+" ")]),s("div",{staticClass:"clearfix"}),s("div",{staticClass:"asset-card"},[s("div",{staticClass:"asset-title"},[t._v(" "+t._s(t.getActionTitle())+" ")]),s("div",{staticClass:"asset-icon"},[0==t.tokenType?s("img",{attrs:{src:a("ea76"),alt:""}}):s("img",{attrs:{src:a("6ca2"),alt:""}})]),s("div",{staticClass:"asset-amount-input"},[s("div",{staticClass:"input-operator",on:{click:function(e){return t.inputChange(-1)}}},[s("div",{staticClass:"operator"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"amount",attrs:{type:"number"},domProps:{value:t.amount},on:{keydown:t.defaultInput,blur:t.inputBlur,input:[function(e){e.target.composing||(t.amount=e.target.value)},t.amountInput]}}),s("div",{staticClass:"input-operator",on:{click:function(e){return t.inputChange(1)}}},[s("div",{staticClass:"operator operator-plus"})])]),s("div",{staticClass:"confirm-btn"},[s("p-button",{attrs:{type:"small",text:"CONFIRM",loading:t.loading},on:{confirm:t.toWait}})],1)])])},r=[],h=(a("00b4"),a("a9e3"),a("d3b7"),a("dd70")),d=a("82c1"),v={name:"AssetAction",components:{PButton:d["a"]},props:{tokenType:0,actionType:0,chainBalance:0,allowance:0,gameBalance:0,tokenAddr:"",walletAddr:"",currentAccount:"",tokenCTR:null,walletCTR:null,web3:null},data:function(){return{amount:0,loading:!1}},methods:{toWait:function(){this.$message.showMessage(this.$vuetify.lang.t("$vuetify.common.comeSoon"),"vertical")},getActionTitle:function(){return 0==this.actionType&&0==this.tokenType?this.$vuetify.lang.t("$vuetify.user.assetTitle.recharge.ice"):0==this.actionType&&1==this.tokenType?this.$vuetify.lang.t("$vuetify.user.assetTitle.recharge.hpt"):1==this.actionType&&0==this.tokenType?this.$vuetify.lang.t("$vuetify.user.assetTitle.withdraw.ice"):1==this.actionType&&1==this.tokenType?this.$vuetify.lang.t("$vuetify.user.assetTitle.withdraw.hpt"):void 0},defaultInput:function(t){if(/\d|ArrowLeft|ArrowRight|Backspace|\./.test(String(t.key)))return Math.floor(1e3*this.amount)!==1e3*this.amount&&"Backspace"!==t.key?(this.$message.showMessage(this.$vuetify.lang.t("$vuetify.user.most4decimals")),void t.preventDefault()):void 0;t.preventDefault()},amountInput:function(){this.amount=Number(this.amount)},inputBlur:function(){null==this.amount&&(this.amount=0)},inputChange:function(t){this.amount=Number(this.amount)+t,this.amount<0&&(this.amount=0)},confirm:function(){0==this.actionType?this.confirmDeposit():this.confirmWithdraw()},confirmDeposit:function(){this.checkAllowance()?this.checkBalance(this.chainBalance)?this.checkInput()?this.deposit():this.$message.showMessage(this.$vuetify.lang.t("$vuetify.user.most4decimals")):this.$message.showMessage(this.$vuetify.lang.t("$vuetify.user.insufficientBalance")):this.approve(h["a"],this.tokenAddr)},checkAllowance:function(){var t=this.convertToEther(this.allowance);return t>0&&+this.amount<=t},approve:function(t){var e=this;this.loading=!0,t=this.convertToWei(t),this.tokenCTR.methods.approve(this.walletAddr,t).send({from:this.currentAccount}).on("transactionHash",(function(){console.log("approve loading")})).then((function(){e.$message.showMessage(e.$vuetify.lang.t("$vuetify.common.approveSuc")),e.$emit("approveCallback",{type:e.tokenType,allowance:t})})).catch((function(t){console.log(t),e.$$message.showMessage(e.$vuetify.lang.t("$vuetify.user.approveFail"))})).finally((function(){e.loading=!1}))},deposit:function(){var t=this,e=this.convertToWei(this.amount);this.loading=!0,this.walletCTR.methods.deposit(e,this.tokenAddr).send({from:this.currentAccount}).on("transactionHash",(function(){console.log("deposit loading")})).then((function(){t.$message.showMessage(t.$vuetify.lang.t("$vuetify.user.rechargeSuc")),t.$emit("updateCallback",e)})).catch((function(e){console.log(e),t.$message.showMessage(t.$vuetify.lang.t("$vuetify.user.rechargeFail"))})).finally((function(){t.loading=!1}))},confirmWithdraw:function(){this.checkBalance(this.gameBalance)?this.checkInput()?this.withdraw():this.$message.showMessage(this.$vuetify.lang.t("$vuetify.user.wrongInput")):this.$message.showMessage(this.$vuetify.lang.t("$vuetify.user.insufficientBalance"))},withdraw:function(){var t=this;console.log("开始提现"),this.loading=!0;var e=1e4*this.amount;Object(l["h"])(e,0==this.tokenType?1:2).then((function(){console.log("提现成功"),t.$message.showMessage(t.$vuetify.lang.t("$vuetify.user.withdrawSuc")),t.$emit("updateCallback")})).catch((function(e){t.$message.showMessage(t.$vuetify.lang.t("$vuetify.user.withdrawFil")),console.log(e,"提现失败")})).finally((function(){t.loading=!1}))},checkInput:function(){return!(this.amount<=0)},checkBalance:function(t){return!(this.amount>+this.convertToEther(t))},convertToEther:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=new RegExp("^(.*\\..{"+e+"}).*$","g");return this.web3.utils.fromWei(t+"","ether").replace(a,"$1")},convertToWei:function(t){return this.web3.utils.toWei(t+"","ether")}}},A=v,g=(a("e6b8"),a("2877")),f=Object(g["a"])(A,u,r,!1,null,"701f74f7",null),m=f.exports,p=a("3ee0"),w=p.Hpt,T=w.address,y=w.abi,C=p.Ice,b=C.address,B=C.abi,k=p.Busd,D=k.address,M=k.abi,R=p.Wallet,E=R.address,z=R.abi,S={name:"UserMine",components:{AssetAction:m,PButton:d["a"]},data:function(){return{mtAddr:T,goldAddr:b,walletAddr:E,assetItems:[],actionType:0,GTAllowance:0,MTAllowance:0,walletCTR:null,goldCTR:null,myTokenCTR:null,busdCTR:null,timer:null,dialog:{show:!1,tokenType:0,actionType:0,tokenCTR:null,allowance:null,gameBalance:null,chainBalance:null,tokenAddr:null}}},computed:Object(c["a"])({},Object(o["c"])(["BNB","BUSD","GT","MT","gameGT","gameMT","web3","currentAccount"])),methods:Object(c["a"])(Object(c["a"])({},Object(o["b"])(["setBNB","setBUSD","setGT","setECH","setMT","setGameGT","setGameMT"])),{},{initData:function(){this.initChainBalance(),this.initGameBalance(),this.getAllowance()},initContract:function(){this.goldCTR=new this.web3.eth.Contract(B,b),this.walletCTR=new this.web3.eth.Contract(z,E),this.myTokenCTR=new this.web3.eth.Contract(y,T),this.busdCTR=new this.web3.eth.Contract(M,D)},initChainBalance:function(){this.getGTBalance(),this.getMTBalance(),this.getBNBBalance(),this.getBUSDBalance()},initGameBalance:function(){this.getGameBalance()},getBNBBalance:function(){var t=this;this.web3.eth.getBalance(this.currentAccount).then((function(e){console.log("[wallet] my BNB: ",e),t.setBNB(e)}))},getBUSDBalance:function(){var t=this;this.busdCTR.methods.balanceOf(this.currentAccount).call().then((function(e){console.log("[wallet] my BUSD: ",e),t.setBUSD(e)}))},getGTBalance:function(){var t=this;this.goldCTR.methods.balanceOf(this.currentAccount).call().then((function(e){console.log("[wallet] my GT: ",e),t.setGT(e)}))},getMTBalance:function(){var t=this;this.myTokenCTR.methods.balanceOf(this.currentAccount).call().then((function(e){t.setMT(e)}))},getGameBalance:function(){var t=this;Object(l["c"])().then((function(e){t.setGameGT(e.user.coin+""),t.setGameMT(e.user.diamond+"")}))},getAllowance:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.goldCTR.methods.allowance(t.currentAccount,E).call();case 2:return t.GTAllowance=e.sent,e.next=5,t.myTokenCTR.methods.allowance(t.currentAccount,E).call();case 5:t.MTAllowance=e.sent;case 6:case"end":return e.stop()}}),e)})))()},updateBalance:function(){var t=this;this.queryCount=0,this.initData(),this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){t.queryCount>=5?clearInterval(t.timer):(console.log("第".concat(t.queryCount,"次查询")),t.queryCount++,t.initData())}),3e4)},tabChange:function(t){console.log(this.GTAllowance,this.MTAllowance),this.actionType=t},changeTokenType:function(t){this.dialog.tokenType=t},approveSuccess:function(t){var e=t.type,a=t.allowance;0==e?this.GTAllowance=a:this.MTAllowance=a},convertToEther:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=new RegExp("^(.*\\..{"+e+"}).*$","g"),s=this.web3.utils.fromWei(t+"","ether").replace(a,"$1");return s=Math.ceil(1e4*s),s/=1e4,s},openMobileModal:function(t){var e=0==t?{actionType:t,tokenCTR:this.goldCTR,allowance:this.GTAllowance,gameBalance:this.gameGT,chainBalance:this.GT,tokenAddr:b}:{actionType:t,tokenCTR:this.myTokenCTR,allowance:this.MTAllowance,gameBalance:this.gameMT,chainBalance:this.MT,tokenAddr:T};Object.assign(this.dialog,Object(c["a"])(Object(c["a"])({},e),{},{show:!0}))},closeDialog:function(){this.dialog.show=!1}}),mounted:function(){this.initContract(),this.initData()},destroyed:function(){this.timer&&clearInterval(this.timer)}},U=S,W=(a("3da7"),a("6544")),N=a.n(W),q=a("169a"),G=a("2fa4"),x=Object(g["a"])(U,s,n,!1,null,"c627c588",null);e["default"]=x.exports;N()(x,{VDialog:q["a"],VSpacer:G["a"]})},9281:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAAD/zwD/zwD/1gD/0AD/4wD/0gD/zwD/2AD/zwD/zwD/1QD/zwD/zwD/zwD/zwD/0wD/0QD/zwD/zwD/zwD/0AD/zwD/zwD/zgD/zwD/zgD/zgD/zwD/1QD/zgDW4FgoAAAAHnRSTlMA2d4YgQgUfAbSnh55zYWkHBC7tJeMdbm8kr3iaiRiZT7lAAABdUlEQVRYw6WX23KCMBRFowZBK1Bsi/aW///M9sG6cjhkbGbvN3XWwhmScwkPEtsgJabUinxKUeIlQ0y3DAIvGNqU5U3gMQg8hmqevFfykuGUVvMq8BgEHkMNv9maj8dqfvfsDHV8CHWG2fHeUMl7w9gV+S/PYyBzUfD96XlvuDShmKet490PZ3jCozbwXg1fzm4DTzBcS/z9+/3B8F2HwfALUTzs74Y+45vLmBs+sucMi/qJYRozPqXMcDT/czB8bgjw7uDA/xoMjwH+zNHzPIYhJQyOx2B4DPAY4DFYHgP8wtBc/QWCx2ALQD+Fv3QvhTs89SnLKWCAxwC/bmgpQvAYHI8BnjbSm5eAAR4DPAZ4Y4B3hmhamTnKGG48RxlDNM1wcZkwjGH9MvXxn9fZFgQMjVBQ9JImF9Wqsg5PWa9pLPBk1lub3lz19q4PGPqIow9Z+phXTivw2qirD9v6uK8vHCRqvL506WsfhqivvoLhIS+v/z9k1IvHx/5a3wAAAABJRU5ErkJggg=="},a25d:function(t,e,a){},af50:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABEBAMAAADKPY6BAAAAIVBMVEUAAAD/xAD7uAD/1QD8uAD8twD/twD8uAD/uwD7twD8twCASR0hAAAACnRSTlMADcUGtPI4ZC3DONCrXwAAAP9JREFUSMe11bEKwlAMhWGLIB3L3Rzv2snBN3DzEbp395mKIOYphWNjqT8kS3vWhC8kXLiHfVJq1tH0U5chZjVDzMAAAUMEDBEyRMgQseclQ+y2EdJ2KTLWDDkNWAoIbkOEtyEChggYIGCAKO91SzsAsdffoBGIPVYNKoRIowqR47JUUYnItS7rqEbkPjlT5iIQs+rIPALI78TFnxERs+rIlyEiRsjMAHFGiBggYlYtQLzFBwFZBjV9iGjrkiBiYkRMgoiJETEB4kyAeELEkyNtjjR9jPiJiYAhAgYIGCJgiJABgpyJMESY/RF+WfnHFzBAyBAhA4QMETJAyADZJh824/DlLXfeyQAAAABJRU5ErkJggg=="},e22d:function(t,e,a){},e6b8:function(t,e,a){"use strict";a("e22d")},ea76:function(t,e){t.exports="data:image/png;base64,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"}}]);